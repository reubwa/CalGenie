<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="CalGenie.ManageTasksPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CalGenie"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <StackPanel Margin="10" Padding="10">

        <Grid Padding="10" HorizontalAlignment="Right">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button Content="Remove" 
                    Margin="10" 
                    Grid.Column="0" 
                    x:Name="BtRemove"
                    IsEnabled="False"
                    Click="BtRemove_OnClick"/>

            <Button Content="Edit" 
                    Margin="10" 
                    Grid.Column="1" 
                    x:Name="BtEdit"
                    IsEnabled="False">
                <Button.Flyout>
                    <Flyout x:Name="EditFly" Opened="EditFly_OnOpened">
                        <StackPanel>
                            <TextBox Margin="0,0,0,12" x:Name="EditTaskName" Header="Name"/>
                            <NumberBox Margin="0,0,0,12" x:Name="EditTaskDurHours" Header="Duration (Hours)"/>
                            <NumberBox Margin="0,0,0,12" x:Name="EditTaskDurMinutes" Header="Duration (Minutes)"/>
                            <Button Content="Add" Click="ButtonBaseEd_OnClick"/>
                        </StackPanel>
                    </Flyout>
                </Button.Flyout>
            </Button>

            <Button Style="{StaticResource AccentButtonStyle}"
                    Content="Add Task" 
                    Margin="10" 
                    Grid.Column="2">
                <Button.Flyout>
                    <Flyout x:Name="AddFly">
                        <StackPanel>
                            <TextBox Margin="0,0,0,12" x:Name="NewTaskName" Header="Name"/>
                            <NumberBox Margin="0,0,0,12" x:Name="NewTaskDurHours" Header="Duration (Hours)" Value="0"/>
                            <NumberBox Margin="0,0,0,12" x:Name="NewTaskDurMinutes" Header="Duration (Minutes)" Value="0"/>
                            <Button Content="Add" Click="ButtonBase_OnClick"/>
                        </StackPanel>
                    </Flyout>
                </Button.Flyout>
            </Button>

        </Grid>

        <ListView x:Name="LstEvents" SelectionChanged="LstEvents_OnSelectionChanged">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="local:Task">
                    <Grid Padding="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="{x:Bind Name}"/>
                        <TextBlock Text="{x:Bind Duration}" Grid.Row="1"/>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

    </StackPanel>
</Page>
