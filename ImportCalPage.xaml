<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="CalGenie.ImportCalPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CalGenie"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <StackPanel Margin="10" Padding="10">

        <Grid Padding="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBox x:Name="TxtURL" 
                     Margin="10" 
                     PlaceholderText="Calendar URL (.ics file)" 
                     Grid.Column="0" />
            <TeachingTip
                x:Name="TestButton1TeachingTip"
                Title="Oh dear!"
                Subtitle="You'll need to enter the link of your calendar in order for us to continue"
                Target="{x:Bind TxtURL}">
                <TeachingTip.IconSource>
                    <SymbolIconSource Symbol="Rename" />
                </TeachingTip.IconSource>
            </TeachingTip>

            <CalendarDatePicker PlaceholderText="Pick a date" 
                                Margin="10" 
                                x:Name="CalDate" 
                                Grid.Column="1" />

            <Button Style="{StaticResource AccentButtonStyle}" 
                    Content="Fetch" 
                    Margin="10" 
                    Grid.Column="2" 
                    Click="ButtonBase_OnClick"/>

        </Grid>

        <ListView x:Name="LstEvents">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="local:CalendarEvent">
                    <Grid Padding="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="{x:Bind Summary}"/>
                        <TextBlock Text="{x:Bind StartTime}" Grid.Row="1"/>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
        
    </StackPanel>
</Page>